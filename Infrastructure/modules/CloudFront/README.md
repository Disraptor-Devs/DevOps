<!-- BEGIN_TF_DOCS -->
## Requirements

| Name | Version |
|------|---------|
| <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) | >= 1.0.0 |
| <a name="requirement_aws"></a> [aws](#requirement\_aws) | >= 2.70.0 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_aws"></a> [aws](#provider\_aws) | >= 2.70.0 |

## Modules

No modules.

## Resources

| Name | Type |
|------|------|
| [aws_cloudfront_distribution.cdn](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudfront_distribution) | resource |
| [aws_cloudfront_origin_access_control.aws_cloudfront_origin_access_control](https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/cloudfront_origin_access_control) | resource |

## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_cloudfront_access_control_description"></a> [cloudfront\_access\_control\_description](#input\_cloudfront\_access\_control\_description) | The description of the CloudFront Origin Access Control. Defaults to 'This is used to log the website into the S3 bucket which is enabled for logging' if omitted. | `string` | `"This is used to log the website into the S3 bucket which is enabled for logging"` | no |
| <a name="input_cloudfront_access_control_name"></a> [cloudfront\_access\_control\_name](#input\_cloudfront\_access\_control\_name) | A unique name that identifies the CloudFront Origin Access Control. | `string` | n/a | yes |
| <a name="input_cloudfront_default_certificate"></a> [cloudfront\_default\_certificate](#input\_cloudfront\_default\_certificate) | A boolean value indicating whether to use the default CloudFront certificate. If set to true, CloudFront uses the default CloudFront certificate (*.cloudfront.net). If set to false, you must specify your own SSL/TLS certificate. | `bool` | `true` | no |
| <a name="input_cloudfront_tags"></a> [cloudfront\_tags](#input\_cloudfront\_tags) | Specifies the tags (key, value pairs) to be associated with the eventBridge rule | `map(string)` | n/a | yes |
| <a name="input_default_cache_behavior"></a> [default\_cache\_behavior](#input\_default\_cache\_behavior) | Defines the default cache behavior for an AWS CloudFront distribution.<br><br>Attributes:<br>- allowed\_methods: A list of HTTP methods that CloudFront processes and forwards to your origin. Common methods include "GET", "HEAD", "OPTIONS", "PUT", "POST", "PATCH", and "DELETE".<br>- cached\_methods: A subset of allowed methods that CloudFront caches responses for. Typically includes "GET" and "HEAD".<br>- target\_origin\_id: The ID of the origin that CloudFront routes requests to when they match the default cache behavior. This should be a valid origin ID configured in the distribution.<br>- viewer\_protocol\_policy: The policy that specifies the protocol users can use to access the files. Options are "allow-all" (HTTP and HTTPS), "https-only" (HTTPS only), and "redirect-to-https" (HTTP to HTTPS).<br>- min\_ttl: The minimum amount of time (in seconds) that an object will stay in the cache before CloudFront forwards another request to your origin.<br>- default\_ttl: The default amount of time (in seconds) that an object will stay in the cache before CloudFront forwards another request to your origin.<br>- max\_ttl: The maximum amount of time (in seconds) that an object will stay in the cache before CloudFront forwards another request to your origin. | <pre>list(object({<br>    allowed_methods        = list(string)<br>    cached_methods         = list(string)<br>    target_origin_id       = string<br>    viewer_protocol_policy = string<br>    min_ttl                = number<br>    default_ttl            = number<br>    max_ttl                = number<br>  }))</pre> | `[]` | no |
| <a name="input_default_root_object"></a> [default\_root\_object](#input\_default\_root\_object) | Object that you want CloudFront to return (for example, index.html) when an end user requests the root URL. | `string` | `"index.html"` | no |
| <a name="input_domain_name"></a> [domain\_name](#input\_domain\_name) | DNS domain name of either the S3 bucket, or web site of your custom origin. | `string` | n/a | yes |
| <a name="input_forwarded_values"></a> [forwarded\_values](#input\_forwarded\_values) | Configures how CloudFront handles query strings and cookies in viewer requests for caching and forwarding.<br><br>Attributes:<br>- query\_string: A boolean value indicating whether CloudFront includes query strings in the cache key and forwards them to the origin. <br>  - true: Query strings are included in the cache key and forwarded to the origin.<br>  - false: Query strings are not included in the cache key or forwarded to the origin.<br>- forward: Specifies how CloudFront handles cookies in viewer requests. Options are:<br>  - "none": CloudFront does not forward cookies to the origin and does not include cookies in the cache key.<br>  - "whitelist": CloudFront forwards only the cookies that you specify to the origin.<br>  - "all": CloudFront forwards all cookies to the origin and includes them in the cache key. | <pre>list(object({<br>    query_string = bool<br>    forward      = string<br>  }))</pre> | `[]` | no |
| <a name="input_logging_config"></a> [logging\_config](#input\_logging\_config) | Configuration for CloudFront logging. Specifies whether CloudFront logs include cookies, the bucket for storing logs, and the prefix for log files.<br><br>Attributes:<br>- include\_cookies: A boolean value indicating whether CloudFront includes cookies in access logs.<br>  - true: Include cookies in logs.<br>  - false: Do not include cookies in logs.<br>- bucket: The S3 bucket where CloudFront access logs are stored. It should be in the format 'bucket-name.s3.amazonaws.com'.<br>- prefix: The prefix for CloudFront log files within the specified bucket to help organize logs. | <pre>list(object({<br>    include_cookies = bool<br>    bucket          = string<br>    prefix          = string<br>  }))</pre> | n/a | yes |
| <a name="input_ordered_cache_behavior"></a> [ordered\_cache\_behavior](#input\_ordered\_cache\_behavior) | Defines the ordered cache behaviors for an AWS CloudFront distribution. Cache behaviors specify how CloudFront handles requests based on the specified path pattern, caching settings, and other options.<br><br>Attributes:<br>- path\_pattern: The pattern (for example, 'images/*.jpg') that specifies which requests to apply the behavior to. CloudFront compares the pattern with the URL of each request.<br>- allowed\_methods: A list of HTTP methods that CloudFront processes and forwards to your origin. Common methods include "GET", "HEAD", "OPTIONS", "PUT", "POST", "PATCH", and "DELETE".<br>- cached\_methods: A subset of allowed methods that CloudFront caches responses for. Typically includes "GET" and "HEAD".<br>- target\_prefix: The prefix CloudFront uses to construct the origin path by appending this value to the origin domain name.<br>- query\_string: A boolean value indicating whether CloudFront includes query strings in the cache key and forwards them to the origin.<br>  - true: Query strings are included in the cache key and forwarded to the origin.<br>  - false: Query strings are not included in the cache key or forwarded to the origin.<br>- headers: A list of HTTP headers that CloudFront includes in the cache key and forwards to the origin.<br>- cookies\_forward: Specifies how CloudFront handles cookies in viewer requests. Options are:<br>  - "none": CloudFront does not forward cookies to the origin and does not include cookies in the cache key.<br>  - "whitelist": CloudFront forwards only the cookies that you specify to the origin.<br>  - "all": CloudFront forwards all cookies to the origin and includes them in the cache key.<br>- min\_ttl: The minimum amount of time (in seconds) that an object will stay in the cache before CloudFront forwards another request to your origin.<br>- default\_ttl: The default amount of time (in seconds) that an object will stay in the cache before CloudFront forwards another request to your origin.<br>- max\_ttl: The maximum amount of time (in seconds) that an object will stay in the cache before CloudFront forwards another request to your origin.<br>- compress: A boolean value indicating whether CloudFront automatically compresses certain files for this cache behavior.<br>  - true: Enable automatic compression of certain files.<br>  - false: Disable automatic compression.<br>- viewer\_protocol\_policy: The policy that specifies the protocol users can use to access the files. Options are "allow-all" (HTTP and HTTPS), "https-only" (HTTPS only), and "redirect-to-https" (HTTP to HTTPS). | <pre>list(object({<br>    path_pattern           = string<br>    allowed_methods        = list(string)<br>    cached_methods         = list(string)<br>    target_prefix          = string<br>    query_string           = bool<br>    headers                = list(string)<br>    cookies_foward         = string<br>    min_ttl                = number<br>    default_ttl            = number<br>    max_ttl                = number<br>    compress               = bool<br>    viewer_protocol_policy = string<br>  }))</pre> | n/a | yes |
| <a name="input_origin_group"></a> [origin\_group](#input\_origin\_group) | Defines a group of origins for CloudFront with failover capabilities. Allows specifying primary and secondary origins along with the status codes that trigger a failover.<br><br>Attributes:<br>- origin\_group\_id: A unique identifier for the origin group.<br>- status\_codes: A list of HTTP status codes that, when returned by the primary origin, trigger CloudFront to failover to the secondary origin.<br>- origin\_member\_id: The ID of the primary origin in the origin group.<br>- origin\_failover\_id: The ID of the secondary origin in the origin group, which CloudFront will use if the primary origin returns one of the specified status codes. | <pre>list(object({<br>    origin_group_id   = string<br>    status_codes      = list(number)<br>    orgin_member_id   = string<br>    orgin_failover_id = string<br>  }))</pre> | `[]` | no |
| <a name="input_origin_id"></a> [origin\_id](#input\_origin\_id) | A unique identifier for the origin. This ID is used to reference the origin in other parts of the CloudFront distribution configuration. | `string` | `"myS3Origin"` | no |
| <a name="input_prefix_value"></a> [prefix\_value](#input\_prefix\_value) | Prefix value for CloudFront logging to help organize logs within the logging bucket. Do not include a trailing '/'. The default prefix is 'cloudfront-logging'. | `string` | `"cloudfront-logging"` | no |
| <a name="input_primaryS3"></a> [primaryS3](#input\_primaryS3) | Specifies the configuration for the primary S3 origin used in CloudFront distributions. This includes the domain name of the S3 bucket and the origin access identity used to restrict access.<br><br>Attributes:<br>- domain\_name: The DNS domain name of the S3 bucket configured as the primary origin.<br>- origin\_access\_identity: The CloudFront origin access identity (OAI) associated with the S3 bucket, allowing CloudFront to access the bucket while preventing direct access. | <pre>list(object({<br>    domain_name            = string<br>    origin_access_identity = string<br>  }))</pre> | n/a | yes |
| <a name="input_region"></a> [region](#input\_region) | The AWS region where the infrastructure will be deployed. The default region is 'af-south-1'. | `string` | `"af-south-1"` | no |
| <a name="input_restrictions"></a> [restrictions](#input\_restrictions) | restriction\_type takes in values of 'none', 'whitelist', 'blacklist'. locations  for which you want CloudFront either to distribute your content (whitelist) or not distribute your content (blacklist), if the type is specified as none an empty array can be used. | <pre>list(object({<br>    restriction_type = string<br>    locations        = list(string)<br>  }))</pre> | `[]` | no |
| <a name="input_s3_cloudfront_logging_bucket"></a> [s3\_cloudfront\_logging\_bucket](#input\_s3\_cloudfront\_logging\_bucket) | The S3 bucket used for logging CloudFront access logs. It should be formatted as 'bucket-name.s3.amazonaws.com'. | `string` | n/a | yes |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_cloudfront_distribution_arn"></a> [cloudfront\_distribution\_arn](#output\_cloudfront\_distribution\_arn) | The ARN of the CloudFront distribution |
| <a name="output_cloudfront_distribution_domain_name"></a> [cloudfront\_distribution\_domain\_name](#output\_cloudfront\_distribution\_domain\_name) | The domain name of the CloudFront distribution |
| <a name="output_cloudfront_distribution_id"></a> [cloudfront\_distribution\_id](#output\_cloudfront\_distribution\_id) | The ID of the CloudFront distribution |
| <a name="output_cloudfront_distribution_status"></a> [cloudfront\_distribution\_status](#output\_cloudfront\_distribution\_status) | The status of the CloudFront distribution |
| <a name="output_cloudfront_origin_access_control_id"></a> [cloudfront\_origin\_access\_control\_id](#output\_cloudfront\_origin\_access\_control\_id) | The ID of the CloudFront origin access control |
| <a name="output_cloudfront_origin_access_control_name"></a> [cloudfront\_origin\_access\_control\_name](#output\_cloudfront\_origin\_access\_control\_name) | The name of the CloudFront origin access control |
| <a name="output_s3_bucket_regional_domain_name"></a> [s3\_bucket\_regional\_domain\_name](#output\_s3\_bucket\_regional\_domain\_name) | The regional domain name of the S3 bucket used as the origin for CloudFront |
<!-- END_TF_DOCS -->